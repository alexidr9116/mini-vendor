"use strict";(self.webpackChunkvmaclient=self.webpackChunkvmaclient||[]).push([[554],{554:function(e,n,s){s.r(n),s.d(n,{default:function(){return x}});var i=s(5861),l=s(1413),a=s(9439),d=s(7757),t=s.n(d),r=s(2791),o=s(1134),u=s(2711),c=s(6140),p=(s(9120),s(937)),m=s(158),h=s(7876),b=s(184);function x(){var e=(0,r.useState)({}),n=(0,a.Z)(e,2),s=n[0],d=n[1],x=(0,r.useMemo)((function(){var e,n,i,l,a,d,t,r,o,u;return{img:null===s||void 0===s?void 0:s.img,chinaAddress:null===s||void 0===s||null===(e=s.china)||void 0===e?void 0:e.address,chinaTel1:null===s||void 0===s||null===(n=s.china)||void 0===n?void 0:n.address,chinaTel2:null===s||void 0===s||null===(i=s.china)||void 0===i?void 0:i.address,chinaFrom:null===s||void 0===s||null===(l=s.china)||void 0===l?void 0:l.from,chinaTo:null===s||void 0===s||null===(a=s.china)||void 0===a?void 0:a.to,ubAddress:null===s||void 0===s||null===(d=s.ub)||void 0===d?void 0:d.address,ubTel1:null===s||void 0===s||null===(t=s.ub)||void 0===t?void 0:t.address,ubTel2:null===s||void 0===s||null===(r=s.ub)||void 0===r?void 0:r.address,ubFrom:null===s||void 0===s||null===(o=s.ub)||void 0===o?void 0:o.from,ubTo:null===s||void 0===s||null===(u=s.ub)||void 0===u?void 0:u.to,name:null===s||void 0===s?void 0:s.name,haveBusiness:null===s||void 0===s?void 0:s.haveBusiness,openAlways:null===s||void 0===s?void 0:s.openAlways,price:null===s||void 0===s?void 0:s.price,period:null===s||void 0===s?void 0:s.period,description:null===s||void 0===s?void 0:s.description}}),[s]),f=(0,o.cI)(x),v=f.register,j=f.reset,g=f.handleSubmit,N=f.setValue,w=f.watch,T=(f.formState.isSubmitting,w("img")),y=function(){var e=(0,i.Z)(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.Hf)(p.$R.getSelf).then((function(e){200===e.status&&d(e.data.warehouse)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){y()}),[]),(0,r.useEffect)((function(){s&&j(x)}),[s,x,j]);var Z=(0,r.useState)(1),A=(0,a.Z)(Z,2),F=A[0],S=A[1];return(0,b.jsxs)(m.Z,{title:"Setting",className:"container px-5 py-8 text-gray-700 w-full ",children:[(0,b.jsxs)("p",{className:" font-bold text-2xl mb-5",children:[" ","Warehouse Setting"]}),(0,b.jsxs)("div",{className:"tabs",children:[(0,b.jsx)("div",{className:"tab tab-lifted ".concat(1===F?"tab-active":""),onClick:function(){S(1)},children:"General"}),(0,b.jsx)("div",{className:"tab tab-lifted ".concat(2===F?"tab-active":""),onClick:function(){S(2)},children:"China"}),(0,b.jsx)("div",{className:"tab tab-lifted ".concat(3===F?"tab-active":""),onClick:function(){S(3)},children:"Ulaanbaatar"}),(0,b.jsx)("div",{className:"tab tab-lifted ".concat(4===F?"tab-active":""),onClick:function(){S(4)},children:"Description"}),(0,b.jsx)("div",{className:"tab tab-lifted mr-6 flex-1 cursor-default"})]}),(0,b.jsxs)("form",{className:"",onSubmit:g((function(e){var n=new FormData,i=e.description,a=e.chinaAddress,d=e.chinaTel1,t=e.chinaTel2,r=e.chinaFrom,o=e.chinaTo,u=e.ubAddress,m=e.ubTel1,h=e.ubTel2,b=e.ubFrom,x=e.ubTo,f=e.name,v=e.openAlways,j=e.period,g=e.price,N=e.haveBusiness,w=e.img;n.append("chinaAddress",a),n.append("chinaFrom",r),n.append("chinaTo",o),n.append("chinaTel1",d),n.append("chinaTel2",t),n.append("ubAddress",u),n.append("ubFrom",b),n.append("ubTo",x),n.append("ubTel1",m),n.append("ubTel2",h),n.append("name",f),n.append("haveBusiness",N),n.append("price",g),n.append("period",j),n.append("description",i),n.append("openAlways",v),n.append("img",w),n.append("id",(null===s||void 0===s?void 0:s._id)||"add"),"string"===typeof w&&(0,p.oh)(p.PM.editWarehouse,(0,l.Z)((0,l.Z)({},e),{},{id:(null===s||void 0===s?void 0:s._id)||"add"})).then((function(e){200===e.status?c.ZP.success(e.message):c.ZP.error(e.message)})),"object"===typeof w&&(0,p.oh)(p.PM.addWarehouse,n).then((function(e){200===e.status?c.ZP.success(e.message):c.ZP.error(e.message)}))})),children:[(0,b.jsxs)("div",{className:"w-full justify-center flex",children:[1===F&&(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-2 p-4 w-full max-w-[700px]",children:[(0,b.jsxs)("div",{className:"card p-6  gap-5  h-full text-center ",children:[(0,b.jsx)("input",(0,l.Z)({placeholder:"Input your warehouse name",className:"input mt-2 border-cyan-500 input-bordered rounded w-full"},v("name"))),(0,b.jsx)("h4",{className:"text-lg",children:"Choose Warehouse Image"}),(0,b.jsxs)("div",{className:"mx-auto relative ",children:[T&&(0,b.jsx)(h.Z,{className:"w-32 h-32 rounded  outline-dashed outline-stone-300 outline-offset-4 outline-1",src:"string"===typeof T?"".concat(p.S$.root).concat(T):URL.createObjectURL(T)}),!T&&(0,b.jsx)(h.Z,{className:"w-32 h-32 rounded  outline-dashed outline-stone-300 outline-offset-4 outline-1",src:"".concat(p.S$.image,"empty.jpg")}),(0,b.jsx)("input",{hidden:!0,id:"img",type:"file",accept:"image/*",onChange:function(e){e.target.files&&e.target.files.length>0&&N("img",e.target.files[0])}}),(0,b.jsx)("label",{htmlFor:"img",className:"rounded-lg border bg-gray-50 w-9 h-9 cursor-pointer flex absolute bottom-0 right-0",children:(0,b.jsx)(u.JO,{icon:"fa:pencil",width:20,className:"m-auto text-stone-500"})})]}),(0,b.jsxs)("p",{className:"text-gray-500 text-center text-sm",children:["Allowed *.jpeg, *.jpg, *.png, *.gif ",(0,b.jsx)("br",{}),"max size of 3.1 MB"]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{children:"24H open?"}),(0,b.jsxs)("select",(0,l.Z)((0,l.Z)({className:"select select-bordered "},v("openAlways")),{},{children:[(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]})),(0,b.jsx)("label",{children:"Period of From CH To UB(Days)"}),(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input input-bordered "},v("period"))),(0,b.jsx)("label",{children:"Price(\u20ae/Kg)"}),(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input input-bordered "},v("price"))),(0,b.jsx)("label",{children:"Have business?"}),(0,b.jsxs)("select",(0,l.Z)((0,l.Z)({className:"select select-bordered "},v("haveBusiness")),{},{children:[(0,b.jsx)("option",{value:!0,children:"Yes"}),(0,b.jsx)("option",{value:!1,children:"No"})]}))]})]}),2===F&&(0,b.jsxs)("div",{className:"grid gap-2 p-4 max-w-[450px] w-full",children:[(0,b.jsx)("label",{children:"Address"}),(0,b.jsx)("input",(0,l.Z)({className:"input input-bordered rounded w-full"},v("chinaAddress"))),(0,b.jsx)("label",{children:"Time (From,To)"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full"},v("chinaFrom"))),"\xa0To\xa0",(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full"},v("chinaTo")))]}),(0,b.jsx)("label",{children:"Telephones"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full",placeholder:"Telephone1"},v("chinaTel1"))),"\xa0,\xa0",(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full",placeholder:"Telephone2"},v("chinaTel2")))]})]}),3===F&&(0,b.jsxs)("div",{className:"grid gap-2 p-4 max-w-[450px] w-full",children:[(0,b.jsx)("label",{children:"Address"}),(0,b.jsx)("input",(0,l.Z)({className:"input input-bordered rounded w-full"},v("ubAddress"))),(0,b.jsx)("label",{children:"Time (From,To)"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full"},v("ubFrom"))),"\xa0To\xa0",(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full"},v("ubTo")))]}),(0,b.jsx)("label",{children:"Telephones"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full",placeholder:"Telephone1"},v("ubTel1"))),"\xa0,\xa0",(0,b.jsx)("input",(0,l.Z)({type:"number",className:"input  input-bordered rounded  w-full",placeholder:"Telephone2"},v("ubTel2")))]})]}),4===F&&(0,b.jsxs)("div",{className:"grid gap-2 p-4 max-w-[450px] w-full",children:[(0,b.jsx)("label",{children:"Description"}),(0,b.jsx)("textarea",(0,l.Z)((0,l.Z)({className:"textarea textarea-bordered rounded w-full"},v("description")),{},{rows:7}))]})]}),(0,b.jsx)("div",{className:"w-full justify-center flex border-t p-4",children:(0,b.jsx)("button",{className:"btn btn-info",type:"submit",children:"Save Setting"})})]})]})}}}]);
//# sourceMappingURL=554.8eaac733.chunk.js.map