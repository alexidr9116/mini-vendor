{"version":3,"file":"static/js/807.e5a25bd6.chunk.js","mappings":"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","sources":["page/admin/EbarimtModal.js","page/admin/Dashboard.js","utils/uFormatter.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport { API_PAYMENT, SEND_POST_REQUEST } from \"../../utils/API\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport QRcode from \"react-qr-code\";\r\nimport toast from 'react-hot-toast'\r\n\r\nEbarimtInvoiceModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  invoiceID: PropTypes.string,\r\n};\r\n\r\nexport default function EbarimtInvoiceModal({ onClose, invoiceID }) {\r\n  const [ebarimt, setEbarimt] = useState({});\r\n  const { t } = useTranslation();\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    SEND_POST_REQUEST(API_PAYMENT.getEbarimt, { invoice_id: invoiceID }).then(\r\n      (res) => {\r\n        setLoading(false)\r\n        if (res.status === 200) {\r\n          setEbarimt(res.data.ebarimt.data);\r\n        }\r\n        else {\r\n          toast.error(res?.message || \"Whoops, Can not get Ebarimt\");\r\n        }\r\n      }\r\n    );\r\n  }, [invoiceID]);\r\n  return (\r\n    <div className={`modal modal-open bg-black/0 sm:modal-middle modal-bottom`}>\r\n      <div className=\" fixed inset-0 bg-black/80\" onClick={onClose} />\r\n      <div className=\"z-50 bg-white rounded-2xl py-5 px-3 w-full sm:w-2/3 md:w-1/2 m-2 \">\r\n        <div className=\"flex\">\r\n          <Icon\r\n            icon=\"arcticons:ebarimt\"\r\n            width={80}\r\n            height={80}\r\n            className=\"text-bold\"\r\n          />\r\n        </div>\r\n        <div className=\"flex mb-3\">\r\n          <label className=\"text-xs font-bold\">EBARLIMT.MN</label>\r\n        </div>\r\n        <div className=\"flex flex-col mb-3\">\r\n          {!loading &&\r\n            <>\r\n              <label>Created:{ebarimt?.created_date}</label>\r\n              <label>Amount:{ebarimt?.amount}</label>\r\n              <label>CTA:{ebarimt?.city_tax_amount}</label>\r\n              <label>VTA:{ebarimt?.vat_amount}</label>\r\n              <label>Branch:{ebarimt?.merchant_branch_code}</label>\r\n            </>\r\n          }\r\n\r\n          {loading &&\r\n            <>\r\n              <div className=\"flex items-center\">Created:<div class=\"h-2 bg-slate-200 rounded w-1/2 animate-pulse\"></div></div>\r\n              <div className=\"flex items-center\">Amount:<div class=\"h-2 bg-slate-200 rounded w-1/3 animate-pulse \"></div></div>\r\n              <div className=\"flex items-center\">CTA:<div class=\"h-2 bg-slate-200 rounded w-1/4 animate-pulse \"></div></div>\r\n              <div className=\"flex items-center\">VTA:<div class=\"h-2 bg-slate-200 rounded w-1/4 animate-pulse\"></div></div>\r\n              <div className=\"flex items-center\">Branch:<div class=\"h-2 bg-slate-200 rounded w-1/3 animate-pulse \"></div></div>\r\n            </>\r\n          }\r\n        </div >\r\n        <div className=\"flex flex-col items-center justify-center mb-5\">\r\n          <div className=\"font-bold text-lg flex w-full items-center justify-center\">\r\n            Lottery:{ebarimt?.ebarimt_lottery} {loading && <div class=\"h-5 bg-slate-200 rounded w-1/3 animate-pulse\"></div>}\r\n          </div>\r\n          <QRcode value={`${ebarimt?.ebarimt_qr_data}`} size={150} />\r\n\r\n        </div>\r\n        <div className=\"flex justify-center\">\r\n          <button className=\"btn btn-info px-8 btn-sm \" onClick={onClose}>Close</button>\r\n        </div>\r\n      </div >\r\n    </div >\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport { API_DASHBOARD, SEND_POST_REQUEST } from \"../../utils/API\";\r\nimport { fNumber, fPrice, fShortDate, fSimpleDate } from \"../../utils/uFormatter\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { PieChart, Pie, Sector, ResponsiveContainer } from 'recharts';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\r\nimport { Icon } from \"@iconify/react\";\r\nimport Page from \"../../component/Page\";\r\nimport useAuth from \"../../hook/useAuth\";\r\nimport EbarimtInvoiceModal from \"./EbarimtModal\";\r\n\r\nexport default function Dashboard() {\r\n    const { t } = useTranslation();\r\n    const {user} = useAuth();\r\n    const [viewEbarimt,setViewEbarimt] = useState(false);\r\n    const [invoiceID,setInvoiceID] = useState('');\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [sentInfo, setSentInfo] = useState({ amount: 0, data: [] });\r\n    const [receiveInfo, setReceiveInfo] = useState({ amount: 0, data: [] });\r\n    const [cabinetInfo, setCabinetInfo] = useState({ allVendors: 0, activeVendor: 0, activeVendorPercent: 100, allProducts: 0, available: 0, activeProductPercent: 100, totalTrx:0, totalMe:0,spent:0,received:0 });\r\n    const [systemChartData, setSystemChartData] = useState({});\r\n    const [invoices, setInvoices] = useState([]);\r\n    const onPieEnter = (_, index) => {\r\n        setActiveIndex(index);\r\n    }\r\n    useEffect(() => {\r\n        \r\n        async function information() {\r\n            const _vendor = await SEND_POST_REQUEST(API_DASHBOARD.getSystemInformation, {});\r\n            const _sent = await SEND_POST_REQUEST(API_DASHBOARD.getSentChart, {});\r\n            const _receive = await SEND_POST_REQUEST(API_DASHBOARD.getReceiveChart, {});\r\n \r\n            // if (_invoices.status === 200) {\r\n\r\n            //     setInvoices(_invoices.data.list);\r\n            // }\r\n            if (_vendor.status === 200) {\r\n                const _vendorData = _vendor.data;\r\n                const _trxData = _vendorData.allPayHistory;\r\n                \r\n                setInvoices(_vendorData.allPayHistory.filter((invoice)=>(invoice.receiver === user._id)));\r\n                const info = {\r\n                    allVendors: _vendorData.allVendors.length,\r\n                    activeVendor: _vendorData.allVendors.filter(c => c.status === \"active\").length,\r\n                    allProducts: _vendorData.allProducts.length,\r\n                    available: _vendorData.allProducts.filter(b => b.status === 1).length,\r\n                    inactive: _vendorData.allProducts.filter(b => b.status === 0).length,\r\n                    totalTrx: _trxData.reduce((val,item)=>(item.cost + val),0),\r\n                    totalMe: _trxData.reduce((val,item)=>( ((item.receiver === user._id || item.payer===user._id)? item.cost :0) + val),0),\r\n                    spent: _trxData.reduce((val,item)=>( ((item.payer===user._id)? item.cost :0) + val),0),\r\n                    received: _trxData.reduce((val,item)=>( ((item.receiver === user._id)? item.cost :0) + val),0),\r\n                }\r\n                \r\n                info.activeProductPercent = fNumber((info.available / Math.max(1, info.allProducts)) * 100);\r\n                info.activeVendorPercent = fNumber((info.activeVendor / Math.max(1, info.allVendors)) * 100);\r\n                setCabinetInfo(info);\r\n                setSystemChartData([\r\n\r\n                    { key: `${t('dashboard.filled')}`, value: info.available },\r\n                    { key: `${t('dashboard.empty')}`, value: info.inactive },\r\n                ])\r\n                \r\n            }\r\n            if (_sent.status === 200) {\r\n                const _sentData = _sent.data.months;\r\n                let amount = 0;\r\n                _sentData.forEach((d) => { amount += d.total });\r\n                setSentInfo({ amount, data: _sentData });\r\n                \r\n            }\r\n            if (_receive.status === 200) {\r\n                const _receiveData = _receive.data.months;\r\n                let amount = 0;\r\n                _receiveData.forEach((d) => { amount += d.total });\r\n                setReceiveInfo({ amount, data: _receiveData });\r\n                \r\n            }\r\n        }\r\n        information();\r\n    }, [t]);\r\n    const renderActiveShape = (props) => {\r\n        const RADIAN = Math.PI / 180;\r\n        const { cx, cy, midAngle, innerRadius, outerRadius, startAngle, endAngle, fill, payload, percent, value } = props;\r\n        const sin = Math.sin(-RADIAN * midAngle);\r\n        const cos = Math.cos(-RADIAN * midAngle);\r\n        const mx = cx + (outerRadius) * cos;\r\n        const my = cy + (outerRadius ) * sin;\r\n        const ex = mx + (cos >= 0 ? 1 : -1) * 22;\r\n        const ey = my;\r\n        const textAnchor = cos >= 0 ? 'start' : 'end';\r\n\r\n        return (\r\n            <g>\r\n                <text x={cx} y={cy} dy={8} textAnchor=\"middle\" fill={fill}>\r\n                    {payload.key}:{payload.value}\r\n                </text>\r\n                <Sector\r\n                    cx={cx}\r\n                    cy={cy}\r\n                    innerRadius={innerRadius}\r\n                    outerRadius={outerRadius}\r\n                    startAngle={startAngle}\r\n                    endAngle={endAngle}\r\n                    fill={fill}\r\n                />\r\n                <Sector\r\n                    cx={cx}\r\n                    cy={cy}\r\n                    startAngle={startAngle}\r\n                    endAngle={endAngle}\r\n                    innerRadius={outerRadius + 6}\r\n                    outerRadius={outerRadius + 10}\r\n                    fill={fill}\r\n                />\r\n                <text x={ex - (cos >= 0 ? 20 : -20) + (cos >= 0 ? 1 : -1) * 12} y={ey} textAnchor={textAnchor} fill=\"#333\">Am-{`${value}`}</text>\r\n                <text x={ex - (cos >= 0 ? 20 : -20) + (cos >= 0 ? 1 : -1) * 12} y={ey} dy={18} textAnchor={textAnchor} fill=\"#999\">\r\n                    {`(${(percent * 100).toFixed(2)}%)`}\r\n                </text>\r\n            </g>\r\n        );\r\n    };\r\n    return (\r\n\r\n        <Page title=\"Dashboard\">\r\n            <div className=\"container p-2 \">\r\n                <div className=\"flex flex-col sm:grid md:grid-cols-2 gap-2 items-center justify-center\">\r\n                    <div className=\"card bg-base-100 shadow-lg w-full  \">\r\n                        <div className=\"card-body\">\r\n                            <h2 className=\"card-title divider text-sky-400\">{t('dashboard.systemInformation')}</h2>\r\n                            <div className=\"flex flex-col\">\r\n                                <div className=\"grid grid-cols-2\">\r\n                                    <div>\r\n                                        <div className=\"text-lg font-bold\">{t('dashboard.totalTransaction')}-{fPrice (cabinetInfo.totalTrx,'₮')}</div>\r\n                                        <div className=\"\">{t('dashboard.total')}-{fPrice (cabinetInfo.totalMe,'₮')}</div>\r\n                                        <div className=\"\">{t('dashboard.spent')}-{fPrice (cabinetInfo.spent,'₮')}</div>\r\n                                        <div className=\"\">{t('dashboard.received')}-{fPrice (cabinetInfo.received,'₮')}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-lg font-bold\">{t('dashboard.allProducts')}-{cabinetInfo.allProducts}</div>\r\n                                        <div className=\" \">{t('dashboard.empty')}-{cabinetInfo.inactive}</div>\r\n                                        <div className=\" \">{t('dashboard.filled')}-{cabinetInfo.available}({cabinetInfo.activeProductPercent})%</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"w-full h-[200px] relative\">\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <PieChart width={100} height={100}>\r\n                                            <Pie\r\n                                                activeIndex={activeIndex}\r\n                                                activeShape={renderActiveShape}\r\n                                                data={systemChartData}\r\n                                                cx=\"50%\"\r\n                                                cy=\"50%\"\r\n                                                innerRadius={60}\r\n                                                outerRadius={80}\r\n                                                fill=\"#00d0ff\"\r\n                                                dataKey=\"value\"\r\n                                                onMouseEnter={onPieEnter}\r\n                                            />\r\n\r\n                                        </PieChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    {/* Sent Information */}\r\n                    <div className=\"card bg-base-100 shadow-lg w-full  \">\r\n                        <div className=\"card-body\">\r\n                            <h2 className=\"card-title divider text-sky-400\"><label><Icon height={20} width={20} icon=\"akar-icons:arrow-up\" /></label>{t('dashboard.sentInformation')}</h2>\r\n                            <div className=\"flex flex-col\">\r\n\r\n                                <div className=\"text-lg font-bold\">{t('dashboard.amount')}-{fPrice(sentInfo.amount,'₮')}</div>\r\n\r\n                            </div>\r\n                            <div className=\"w-full h-[260px] relative\">\r\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                    <LineChart width={350} height={200}\r\n                                        data={sentInfo.data}\r\n                                        margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n                                    >\r\n                                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                        <XAxis dataKey=\"_id\" />\r\n                                        <YAxis />\r\n                                        <Tooltip />\r\n                                        <Legend />\r\n                                        <Line type=\"monotone\" dataKey=\"total\" stroke=\"#00d0ff\" activeDot={{ r: 8 }} />\r\n\r\n                                    </LineChart>\r\n                                </ResponsiveContainer>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Receive Information */}\r\n                    <div className=\"card bg-base-100 shadow-lg w-full  \">\r\n                        <div className=\"card-body\">\r\n                            <h2 className=\"card-title divider text-sky-400\"><label><Icon height={20} width={20} icon=\"akar-icons:arrow-down\" /></label>{t('dashboard.receiveInformation')}</h2>\r\n                            <div className=\"flex flex-col\">\r\n\r\n                                <div className=\"text-lg font-bold\">{t('dashboard.amount')}-{fPrice(receiveInfo.amount,'₮')}</div>\r\n\r\n                            </div>\r\n                            <div className=\"w-full h-[260px] relative\">\r\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                    <LineChart width={350} height={200}\r\n                                        data={receiveInfo.data}\r\n                                        margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n\r\n                                    >\r\n                                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                        <XAxis dataKey=\"_id\" />\r\n                                        <YAxis />\r\n                                        <Tooltip />\r\n                                        <Legend />\r\n                                        <Line type=\"monotone\" dataKey=\"total\" stroke=\"#00d0ff\" activeDot={{ r: 8 }} />\r\n\r\n                                    </LineChart>\r\n                                </ResponsiveContainer>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Invoice Information */}\r\n                    <div className=\"card bg-base-100 shadow-lg w-full  \">\r\n                        <div className=\"card-body\">\r\n                            <h2 className=\"card-title divider text-sky-400\"><label><Icon height={20} width={20} icon=\"la:file-invoice-dollar\" /></label>{t('dashboard.invoiceHistory')}</h2>\r\n                            <div className=\"flex flex-col w-full h-[295px] overflow-auto\">\r\n                                <div className=\"min-w-[550px]\">\r\n                                    {invoices.map((invoice, index) => {\r\n                                        return (\r\n                                            <div className=\"grid grid-cols-12 items-center border-0 border-b-[1px]\" key={index}>\r\n\r\n                                                <label>{index + 1}</label>\r\n                                                <label className=\"col-span-4\">{invoice.invoice}</label>\r\n                                                <label className={`col-span-2 text-xs max-w-[70px] overflow-hidden text-ellipsis text-white badge ${invoice.isPaid ? \"badge-info\" : \"badge-warning\"}`}>{fPrice(invoice.cost,'₮')}</label>\r\n                                                <label className=\"col-span-3 text-xs\">{fShortDate(invoice.created)}</label>\r\n\r\n                                                <button className=\"btn btn-xs btn-info btn-outline col-span-2\" onClick={()=>{\r\n                                                    setInvoiceID(invoice.realInvoice); setViewEbarimt(true);\r\n                                                }}>Ebarimt</button>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {viewEbarimt && <EbarimtInvoiceModal invoiceID = {invoiceID} onClose={()=>setViewEbarimt(false)} />}\r\n        </Page >\r\n\r\n    )\r\n}","import numeral from 'numeral';\r\n\r\nexport function fNumber(number) {\r\n    return numeral(number).format(\"0,0.00a\").replace(\".00\", '');\r\n}\r\nexport function fPrice(number, currency) {\r\n    return `${fNumber(number)} ${currency}`;\r\n}\r\nexport function fRemain(current, period) {\r\n    const rm = period - current;\r\n    const d = Math.floor(rm / 3600 / 24 / 1000);\r\n    const h = Math.floor((rm - d * 3600 * 24 * 1000) / 3600 / 1000);\r\n    const m = Math.floor((rm - d * 3600 * 24 * 1000 - h * 3600 * 1000) / 60 / 1000);\r\n    const value = ((d > 0 ? (`${d}d `) : '') + (h > 0 ? (`${h}h `) : '') + (m > 0 ? (`${m}m `) : ''));\r\n    return {\r\n        text:`${value}`,\r\n        isRemain:rm>0,\r\n\r\n    }\r\n    \r\n}\r\nexport function fShortDate(number){\r\n    try{\r\n        const date = new Date(number).toUTCString();\r\n        return date.substring(0,date.length-3)\r\n    }\r\n    catch(err){\r\n        return \"\";\r\n    }\r\n}\r\nexport function fSimpleDate(number){\r\n    try{\r\n\r\n        const date = new Date(number).toUTCString();\r\n        return date.substring(0,date.length-12)\r\n    }\r\n    catch(err){\r\n        return \"\";\r\n    }\r\n}"],"names":["EbarimtInvoiceModal","onClose","invoiceID","useState","ebarimt","setEbarimt","useTranslation","t","loading","setLoading","useEffect","SEND_POST_REQUEST","API_PAYMENT","invoice_id","then","res","status","data","toast","message","className","onClick","icon","width","height","created_date","amount","city_tax_amount","vat_amount","merchant_branch_code","class","ebarimt_lottery","value","ebarimt_qr_data","size","Dashboard","user","useAuth","viewEbarimt","setViewEbarimt","setInvoiceID","activeIndex","setActiveIndex","sentInfo","setSentInfo","receiveInfo","setReceiveInfo","allVendors","activeVendor","activeVendorPercent","allProducts","available","activeProductPercent","totalTrx","totalMe","spent","received","cabinetInfo","setCabinetInfo","systemChartData","setSystemChartData","invoices","setInvoices","API_DASHBOARD","_vendor","_sent","_receive","_vendorData","_trxData","allPayHistory","filter","invoice","receiver","_id","info","length","c","b","inactive","reduce","val","item","cost","payer","fNumber","Math","max","key","_sentData","months","forEach","d","total","_receiveData","information","Page","title","fPrice","ResponsiveContainer","PieChart","Pie","activeShape","props","RADIAN","PI","cx","cy","midAngle","innerRadius","outerRadius","startAngle","endAngle","fill","payload","percent","sin","cos","ex","ey","textAnchor","x","y","dy","Sector","toFixed","dataKey","onMouseEnter","_","index","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","YAxis","Tooltip","Legend","Line","type","stroke","activeDot","r","map","isPaid","fShortDate","created","realInvoice","number","numeral","format","replace","currency","date","Date","toUTCString","substring","err","fSimpleDate"],"sourceRoot":""}