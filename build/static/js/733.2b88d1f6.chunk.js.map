{"version":3,"file":"static/js/733.2b88d1f6.chunk.js","mappings":"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","sources":["page/client/ReviewWriteModal.js","page/client/MyProducts.js","utils/uFormatter.js","../node_modules/@mui/icons-material/Star.js"],"sourcesContent":["import { Icon } from \"@iconify/react\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nimport Rating from '@mui/material/Rating';\r\nimport StarIcon from '@mui/icons-material/Star';\r\n\r\nimport LoadingScreen from \"../../component/custom/LoadingScreen\";\r\nimport Image from \"../../component/Image\";\r\nimport AlertModal from '../../component/core/AlertModal';\r\nimport { API_ADMIN, API_CLIENT, ASSETS_URL, SEND_DELETE_REQUEST, SEND_GET_REQUEST, SEND_POST_REQUEST, SEND_PUT_REQUEST } from \"../../utils/API\";\r\n\r\nexport default function ReviewWriteModal({ onClose, id, onUpdateReview }) {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [timeRate, setTimeRate] = useState(0);\r\n    const [brokenRate, setBrokenRate] = useState(0);\r\n    const [priceRate, setPriceRate] = useState(0);\r\n    const [comment, setComment] = useState('');\r\n    const [recommendRate, setRecommendRate] = useState(0);\r\n\r\n\r\n    const onSubmit = () => {\r\n        const data = { timeRate, brokenRate, priceRate, comment, recommendRate, productId: id };\r\n\r\n        setLoading(true);\r\n\r\n        SEND_PUT_REQUEST(`${API_CLIENT.writeReview}`, data).then(res => {\r\n\r\n            setLoading(false);\r\n\r\n            if (res.status === 200) {\r\n                onUpdateReview(res.data.review);\r\n            }\r\n            else {\r\n                toast.error(res?.message || \"Internal Server Error\");\r\n            }\r\n        }).catch(err => {\r\n\r\n            setLoading(false);\r\n            toast.error(\"Internal Server Error\");\r\n        })\r\n    }\r\n    const labels = {\r\n        0.5: 'Useless',\r\n        1: 'Useless+',\r\n        1.5: 'Poor',\r\n        2: 'Poor+',\r\n        2.5: 'Ok',\r\n        3: 'Ok+',\r\n        3.5: 'Good',\r\n        4: 'Good+',\r\n        4.5: 'Excellent',\r\n        5: 'Excellent+',\r\n    };\r\n\r\n    const getLabelText = (value) => {\r\n        return `${labels[value]}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className={`modal modal-open bg-black/0 `}>\r\n            <div className=\" fixed inset-0 bg-black/80\" onClick={onClose} />\r\n            <div className='z-50 bg-white rounded-xl p-5 px-3'>\r\n                <p className=\"text-center font-bold text-xl mb-3\">Write Review </p>\r\n                <div className='grid  w-full p-5'>\r\n                    <div>\r\n                        <div className=\"w-full \">\r\n                            <p className=\"\">Was it delivered on time?</p>\r\n                            <div className='flex items-center mb-2'><Rating value={timeRate} onChange={(e, n) => setTimeRate(n)} emptyIcon={<StarIcon style={{ opacity: 0.55 }}\r\n                            />} precision={0.5} />&nbsp;&nbsp;{timeRate > 0 ? getLabelText(timeRate) : ''}</div>\r\n                        </div>\r\n\r\n                        <div className=\"w-full \">\r\n                            <p className=\"\">Has the safety been delivered?</p>\r\n                            <div className='flex items-center mb-2'><Rating value={brokenRate} onChange={(e, n) => setBrokenRate(n)} emptyIcon={<StarIcon style={{ opacity: 0.55 }}\r\n                            />} precision={0.5} />&nbsp;&nbsp;{brokenRate > 0 ? getLabelText(brokenRate) : ''}</div>\r\n\r\n                        </div>\r\n                        <div className=\"w-full \">\r\n                            <p className=\"\">Is the price right for you?</p>\r\n                            <div className='flex items-center mb-2'><Rating value={priceRate} onChange={(e, n) => setPriceRate(n)} emptyIcon={<StarIcon style={{ opacity: 0.55 }}\r\n                            />} precision={0.5} />&nbsp;&nbsp;{priceRate > 0 ? getLabelText(priceRate) : ''}</div>\r\n                        </div>\r\n                        <div className=\"w-full\">\r\n                            <p className=\"\">Do you recommend this warehouse?</p>\r\n                            <div className='flex items-center mb-2'><Rating value={recommendRate} onChange={(e, n) => setRecommendRate(n)} emptyIcon={<StarIcon style={{ opacity: 0.55 }}\r\n                            />} precision={0.5} />&nbsp;&nbsp;{recommendRate > 0 ? getLabelText(recommendRate) : ''}</div>\r\n                        </div>\r\n\r\n                        <div className=\"w-full  items-center\">\r\n                            <p className=\"\">Your Comment</p>\r\n                            <textarea required minLength={30} onChange={(e) => setComment(e.target.value)} value={comment} className=\"min-w-[300px] textarea textarea-bordered w-full\" rows={4} />\r\n                        </div>\r\n\r\n\r\n                        <div className=\"w-full grid grid-cols-2 gap-2 mt-4\">\r\n                            <button className={`btn btn-sm btn-info ${loading && 'loading'}`} onClick = {onSubmit}>\r\n                                Save\r\n                            </button>\r\n                            <button className={`btn  btn-sm btn-info  `} onClick={onClose}>\r\n                                Cancel\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport { Icon } from '@iconify/react';\r\nimport toast from 'react-hot-toast';\r\nimport Rating from '@mui/material/Rating';\r\nimport { IconButton } from '@mui/material';\r\nimport { ArrowBack, ArrowForward } from '@mui/icons-material';\r\nimport AlertModal from \"../../component/core/AlertModal\";\r\nimport Page from \"../../component/Page\";\r\nimport SearchInput from '../../component/core/SearchInput';\r\n\r\nimport { API_ADMIN, API_CLIENT, API_WAREHOUSE, ASSETS_URL, SEND_GET_REQUEST, SEND_POST_REQUEST } from '../../utils/API';\r\nimport { fPrice, fSimpleDate } from '../../utils/uFormatter';\r\nimport LoadingScreen from '../../component/custom/LoadingScreen';\r\nimport useAuth from '../../hook/useAuth';\r\nimport ReviewWriteModal from './ReviewWriteModal';\r\n\r\nconst PER_COUNT = 10;\r\nexport default function MyProducts() {\r\n    const { user } = useAuth();\r\n    const [filtered, setFiltered] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n    const [warehouse, setWarehouse] = useState({});\r\n    const [searchFilter, setSearchFilter] = useState(\"\");\r\n    const [locationFilter, setLocationFilter] = useState(\"\");\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [selected, setSelected] = useState([]);\r\n    const [pageFiltered, setPageFiltered] = useState([]);\r\n    const [reviewModal, setReviewModal] = useState(false);\r\n    const handleChangeSearch = (value) => {\r\n        setSearchFilter(value);\r\n    }\r\n    const handleNextPage = () => {\r\n        let current = currentPage;\r\n        if (current < (Math.ceil(filtered.length / PER_COUNT) - 1)) {\r\n            current++;\r\n\r\n            setPageFiltered(filtered.slice(current * PER_COUNT, Math.min((current + 1) * PER_COUNT, filtered.length)));\r\n            setCurrentPage(current);\r\n        }\r\n    }\r\n    const handlePrevPage = () => {\r\n        let current = currentPage;\r\n        if (current >= 1) {\r\n            current--;\r\n            setPageFiltered(filtered.slice(current * PER_COUNT, Math.min((current + 1) * PER_COUNT, filtered.length)));\r\n            setCurrentPage(current);\r\n        }\r\n    }\r\n    const applyFilter = () => {\r\n        let lFilter = locationFilter;\r\n        if (locationFilter === \"all\") {\r\n            lFilter = \"\";\r\n        }\r\n\r\n        const filter = (products.filter((product) => ((product.barcode.includes(searchFilter) || product.position.includes(searchFilter) || `${product.mobile}`.includes(searchFilter)) && product.position.includes(lFilter))));\r\n\r\n        setFiltered(filter);\r\n\r\n        setPageFiltered(filter.slice(currentPage * PER_COUNT, Math.min((currentPage + 1) * PER_COUNT, filter.length)));\r\n    }\r\n    const loadList = () => {\r\n\r\n        SEND_GET_REQUEST(`${API_CLIENT.getProducts}${user.mobile}`).then(res => {\r\n\r\n            if (res.status === 200 && res.data && res.data.data) {\r\n                const data = res.data.data;\r\n                const reviews = res.data.reviews;\r\n                console.log(reviews);\r\n                data.map(row => {\r\n                    if (reviews.length === 0) {\r\n                        row.review = null;\r\n\r\n                    }\r\n                    reviews && reviews.map(review => {\r\n                        if (row._id === review.productId) {\r\n                            row.review = review;\r\n                        }\r\n                    });\r\n                })\r\n                setProducts(data)\r\n\r\n            }\r\n        })\r\n    }\r\n    const handleReview = (id) => {\r\n        setSelected(id);\r\n        setReviewModal(true);\r\n\r\n    }\r\n\r\n    const handleUpdateReview = (review) => {\r\n\r\n        setPageFiltered((prev) => (prev.map((p, index) => {\r\n            if (p._id === review.productId) {\r\n                p.review = review;\r\n\r\n\r\n            }\r\n            return p;\r\n        })));\r\n        setReviewModal(false);\r\n    }\r\n    useEffect(() => {\r\n        applyFilter();\r\n    }, [products, locationFilter, searchFilter])\r\n\r\n    useEffect(() => {\r\n        loadList();\r\n    }, [])\r\n    return (\r\n        <Page title='Product Management' className=\"flex w-full flex-col gap-4\">\r\n            <div className='flex w-full justify-between p-2'>\r\n                <select className='select select-bordered ' onChange={(e) => { (setLocationFilter(e.target.value)) }} value={locationFilter}>\r\n                    <option value='' disabled>Select Location..</option>\r\n                    <option value='all'>All</option>\r\n                    <option value='china'>China</option>\r\n                    <option value='coming'>Coming</option>\r\n                    <option value='ub'>Ulaanbaatar</option>\r\n                    <option value='delivery'>Delivery</option>\r\n                    <option value='completed'>Completed</option>\r\n                </select>\r\n                <SearchInput handleChangeSearch={handleChangeSearch} />\r\n            </div>\r\n            <div className='overflow-x-auto w-full'>\r\n                <table className='table w-full table-compact'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Payment Status</th>\r\n                            <th>Barcode</th>\r\n                            \r\n                            <th>Price</th>\r\n                            <th>Provider</th>\r\n                            <th>RegTime</th>\r\n                            <th>UbTime</th>\r\n                            <th>FsTime</th>\r\n                            <th>Rate</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {pageFiltered.length === 0 && <tr><td colSpan={8}><div className='text-lg text-center p-4'>No data display</div></td></tr>}\r\n                        {pageFiltered && pageFiltered.map((product, index) => (\r\n\r\n                            <tr key={index}>\r\n                                <td>\r\n                                    {product?.payStatus !== \"unpaid\" &&\r\n                                        <label className={`badge badge-info`}>{product?.payStatus},{product?.payLocation}</label>}\r\n                                    {product?.payStatus === \"unpaid\" &&\r\n                                        <button className=\"btn btn-info rounded-full btn-sm\">Pay with QPay</button>}\r\n                                </td>\r\n                                <td>\r\n                                    {product?.barcode}\r\n                                </td>\r\n                                \r\n                                <td>\r\n                                    {fPrice(product?.price, 'â‚®')}\r\n                                </td>\r\n                                <td>\r\n                                    {product?.warehouse?.name}\r\n                                </td>\r\n                                <td>\r\n                                    {fSimpleDate(product?.registeredAt)}\r\n                                </td>\r\n                                <td>\r\n                                    {product?.arrivedUbAt ? fSimpleDate(product?.arrivedUbAt) : ''}\r\n                                </td>\r\n                                <td>\r\n                                    {product?.arrivedUser ? fSimpleDate(product?.arrivedUser) : ''}\r\n                                </td>\r\n                                <td>\r\n                                    {\r\n                                        product.review && <div className='flex items-center'> {product.review.rate} <Rating readOnly value={product?.review?.rate} /></div>\r\n                                    }\r\n                                    {!product.review && <button onClick={() => handleReview(product?._id)} className=' btn btn-info btn-sm rounded-full'>Write</button>}\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n            <div className={\"flex justify-between w-full items-center mb-4 p-1  rounded-b-lg bg-stone-200 -mt-3\"}>\r\n                <div className='flex items-center gap-2'>\r\n                </div>\r\n                <div className='flex items-center  '>\r\n                    <label >{(currentPage + 1)} of {Math.ceil(filtered.length / PER_COUNT)}</label>\r\n                    <IconButton onClick={handlePrevPage} disabled={(currentPage === 0)} ><ArrowBack></ArrowBack></IconButton>\r\n                    <IconButton onClick={handleNextPage} disabled={(currentPage === (Math.ceil(filtered.length / PER_COUNT) - 1))} ><ArrowForward></ArrowForward></IconButton>\r\n                </div>\r\n\r\n            </div>\r\n            {reviewModal && <ReviewWriteModal onUpdateReview={handleUpdateReview} onClose={() => setReviewModal(false)} id={selected} />}\r\n        </Page>\r\n    )\r\n}","import numeral from 'numeral';\r\n\r\nexport function fNumber(number) {\r\n    return numeral(number).format(\"0,0.00a\").replace(\".00\", '');\r\n}\r\nexport function fPrice(number, currency) {\r\n    return `${fNumber(number)} ${currency}`;\r\n}\r\nexport function fRemain(current, period) {\r\n    const rm = period - current;\r\n    const d = Math.floor(rm / 3600 / 24 / 1000);\r\n    const h = Math.floor((rm - d * 3600 * 24 * 1000) / 3600 / 1000);\r\n    const m = Math.floor((rm - d * 3600 * 24 * 1000 - h * 3600 * 1000) / 60 / 1000);\r\n    const value = ((d > 0 ? (`${d}d `) : '') + (h > 0 ? (`${h}h `) : '') + (m > 0 ? (`${m}m `) : ''));\r\n    return {\r\n        text:`${value}`,\r\n        isRemain:rm>0,\r\n\r\n    }\r\n    \r\n}\r\nexport function fShortDate(number){\r\n    try{\r\n        const date = new Date(number).toUTCString();\r\n        return date.substring(0,date.length-3)\r\n    }\r\n    catch(err){\r\n        return \"\";\r\n    }\r\n}\r\nexport function fSimpleDate(number){\r\n    try{\r\n\r\n        const date = new Date(number).toUTCString();\r\n        return date.substring(0,date.length-12)\r\n    }\r\n    catch(err){\r\n        return \"\";\r\n    }\r\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), 'Star');\n\nexports.default = _default;"],"names":["ReviewWriteModal","onClose","id","onUpdateReview","useState","loading","setLoading","timeRate","setTimeRate","brokenRate","setBrokenRate","priceRate","setPriceRate","comment","setComment","recommendRate","setRecommendRate","labels","getLabelText","value","useEffect","className","onClick","Rating","onChange","e","n","emptyIcon","Star","style","opacity","precision","required","minLength","target","rows","data","productId","SEND_PUT_REQUEST","API_CLIENT","then","res","status","review","toast","message","catch","err","PER_COUNT","MyProducts","user","useAuth","filtered","setFiltered","products","setProducts","searchFilter","setSearchFilter","locationFilter","setLocationFilter","currentPage","setCurrentPage","selected","setSelected","pageFiltered","setPageFiltered","reviewModal","setReviewModal","lFilter","filter","product","barcode","includes","position","mobile","slice","Math","min","length","applyFilter","SEND_GET_REQUEST","reviews","console","log","map","row","_id","Page","title","disabled","SearchInput","handleChangeSearch","colSpan","index","payStatus","payLocation","fPrice","price","warehouse","name","fSimpleDate","registeredAt","arrivedUbAt","arrivedUser","rate","readOnly","ceil","IconButton","current","ArrowBack","ArrowForward","prev","p","fNumber","number","numeral","format","replace","currency","fShortDate","date","Date","toUTCString","substring","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}